@startuml

autonumber "<b><color blue>[00]"
actor psu

box "PsuUserAgent" #LightGray
    participant "FinTechUI" as FinTechUI
    participant "TppConsentSessionUI" as TppConsentSessionUI
    participant "AspspConsentSessionUI" as AspspConsentSessionUI
end box
box "FinTechDC" #DarkSeaGreen
    participant "FinTechApi" as FinTechApi
end box
box "TppDC" #LightGray
    participant "TppBankingApi" as TppBankingApi
    participant "TppBankSearchApi" as TppBankSearchApi
    participant "TppConsentSessionApi" as TppConsentSessionApi

    participant "RedirectSessionStoreAPI" as RedirectSessionStoreAPI
    participant "BankingProtocolSelector" as BankingProtocolSelector
    participant "BankingProtocol" as BankingProtocol
end box
box "AspspDC" #LightSkyBlue
	participant "AspspBankingApi" as AspspBankingApi
    participant "AspspConsentSessionApi" as AspspConsentSessionApi
end box

== PSU establishes a session with the FinTech API : call[header](body)<params> return code[header](body) ==
psu -> FinTechUI ++ : loadFinTechApplication()
return displayLoginUI()
psu -> FinTechUI ++ : enterLoginData(login,password)
FinTechUI -> FinTechApi ++ : login[](login,password)<>
return 200_OK[Psu2FintechLoginSessionCookie](BankSearchScreenConfig)
return displayBankSearchScreen()
@enduml